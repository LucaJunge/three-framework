(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("three")):typeof define=="function"&&define.amd?define(["exports","three"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.ThreeFramework={},s.three))})(this,function(s,e){"use strict";class n extends e.EventDispatcher{constructor(){super(),this.xrMode="inline",this.xrSessionFeatures={requiredFeatures:["local"],optionalFeatures:["hand-tracking"]},this.xrSession=null}setXRSessionFeatures(t="inline",i={}){this.xrMode=t,this.xrSessionFeatures=i}checkXRSupport(){"xr"in navigator?navigator.xr.isSessionSupported(this.xrMode).then(t=>{t?this.dispatchEvent({type:"xrsupported",message:{isSupported:!0}}):this.dispatchEvent({type:"xrsupported",message:{isSupported:!1,reason:`The session mode '${this.xrMode}' is not supported on this device`}})}):this.dispatchEvent({type:"xrsupported",message:{isSupported:!1,reason:"The WebXR API does not exist in navigator"}})}async startXR(){this.xrSession!==null&&(console.log("There is already an active XR session. Exiting..."),this.xrSession.end());try{let t=await navigator.xr.requestSession(this.xrMode,this.xrSessionFeatures);this.onSessionStarted(t)}catch(t){console.error(t)}}}class o extends e.EventDispatcher{constructor(){super(),this.canvas=document.querySelector("#app"),this.canvas.classList.add("app"),this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new e.WebGLRenderer({canvas:this.canvas,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.pixelRatio=Math.max(window.devicePixelRatio,2),this.renderer.xr.enabled=!0,this.renderer.setClearColor(new e.Color(0,0,0)),this.xr=new n;let t=new e.AmbientLight(16777215,1);this.scene.add(t),window.addEventListener("resize",()=>{this.onResize()})}start(){this.renderer.xr&&this.xr.checkXRSupport(),this.renderer.setAnimationLoop(()=>{this.dispatchEvent({type:"update",message:"update"}),this.renderer.render(this.scene,this.camera)})}onResize(){let t=window.innerWidth,i=window.innerHeight;this.camera.aspect=t/i,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,i)}}let d=new e.BoxGeometry,h=new e.SphereGeometry,a=new e.MeshStandardMaterial({color:12542314});function p(){return new e.Mesh(d,a)}function c(){return new e.Mesh(h,a)}s.App=o,s.WebXRHandler=n,s.createCube=p,s.createSphere=c,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
